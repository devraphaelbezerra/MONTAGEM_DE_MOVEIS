# MONTAGEM DE MOVEIS.md
Nome do processo Diagrama: "montagem_moveis".

Nome do Portal Widget(P√∫blica): "agendamentomontagem".

Desenvolvimento BPM de um diagrama de processo atrelado a um formul√°rio HTML5 para acesso de cliente(s) que realizaram a compra de um ou mais produto(s) de montagem de m√≥veis, produtos este que est√£o cadastrados na retaguarda RMS e ficam disponiveis para emiss√£o do pedido (presencial ou e-commerce) de compra.

URL P√∫blica: https://formosaweb.net.br/portal/1/agendamentomontagem

![image](https://github.com/user-attachments/assets/78af8cb3-1347-45e2-a972-3d3232c20df8)

![image](https://github.com/user-attachments/assets/8188c2c8-61c7-4641-af11-b929986d4451)

![image](https://github.com/user-attachments/assets/33b0a582-e044-4ff6-b473-fa605ebda4af)

![image](https://github.com/user-attachments/assets/ea1e5694-8a64-4663-a9fb-30ed3fe9f323)

### Tecnologias Utilizadas

* PL-SQL.
* JavaScript.
* Bibliotecas JS.
* Consulta p√∫blica via AJAX.

## Depend√™ncias e Vers√µes Necess√°rias

* TOTVS Fluig Plataforma - 1.6+
* Web Service swagger
* moment.js
* datepicker.js
* backbone-min.js
* jquery.mask.js

## Como executar o projeto ‚úÖ
```
Comando 1
```
A execu√ß√£o √© automatica, √© iniciado a cria√ß√£o "startprocess" do processo quando cliente finaliza a compra de um ou mais produto(s) do venda-assistida da retaguarda RMS e via PDV Zanthus realiza o pagamento e acessa o portal de agendamentos de m√≥veis e realiza o agendamento com o n√∫mero do pedido e o cpf do cliente e selecionando uma data para o montador de m√≥veis ser direcionado at√© seu respectivo endere√ßo.

## üìå (Montagem de M√≥veis) - Informa√ß√µes importantes sobre a aplica√ß√£o üìå

Foram encontrados casos onde existem divergencia de informa√ß√£oes no cadastro da retaguarda RMS, como tamb√©m falta de classifica√ß√£o correta dos produtos que s√£o disponiveis para montagem e n√£o est√£o com flag igual "Sim" disponivel para montar, cliente que repassa informa√ß√£o incorreta como comprou em um CPF de terceiro e no agendamento informa seu CPF ou pedido incorreto.

## ‚ö†Ô∏è Problemas enfrentados

Listo abaixo os problemas enfrentados mais comuns de acontecer no processo de Montagem de M√≥veis.

### Problema 1:
Descri√ß√£o do problema:
NFe de entradas para cortes das agendas [727,5,101] vem com o mesmo n√∫mero de Nota que j√° foi usado anteriormente, n√£o processa os cortes e deve ser confirmado se realmente a NFe de prateleira 730 e 580 recebimento n√£o foi gerada no retarda mesmo que em datas futuras.
* Como solucionar: Este n√£o √© um "problema" no processo, e sim um problema operacional do fornecedor que gerou a NF com o mesmo n√∫mero de outra NF usada anteriormente e tamb√©m do recebimento do formosa/comprador que n√£o for√ßa o mesmo a enviar n√∫mero de notas corretas sem sequencias, deve-se acessar a tabela de controle NFe "fluig.ti_desossa_controle_nfe" e localizar a NFe de entrada pelo n√∫mera√ß√£o que n√£o processou, salvar as informa√ß√µes em alguma lugar seguro pois ser√° usada futuramente, realizar o update na "fluig.ti_desossa_controle_nfe" na coluna "NOTA" alterar o n√∫mero de NOTA para outro n√∫mero pr√≥ximo exemplo de:207551 para: 207551666 passando como filtro a filial, item, nota, dataNF e executar a desossa novamente, com isso programa de execu√ß√£o do fluig n√£o vai mais achar este n√∫mero de NF no not in da query de pendencias e executara/processar√° os cortes, ap√≥s esta execu√ß√£o, deve-se voltar o n√∫mero de nota exemplo realizando outro update de:207551666 para:207551.

### Problema 2:
Descri√ß√£o do problema:
O usu√°rios que est√£o respons√°veis reclamam que a desossa n√£o executou no dia anterior.
* Como solucionar: Deve-se revisar se a tarefa no banco que executa uma PROC da Visual MIX RMS est√° com o status BROKEN==Y, o job quando bloqueado n√£o funciona e nem processas as NFe.

